import{c as e}from"./security-zfds8hUd.js";const t="/randevu_app/assets/rolex-logo-CwVza6ql.svg",n=new class{constructor(){this.listeners=new Map,this.state={currentMonth:new Date,selectedDate:null,selectedStaff:null,selectedTime:null,selectedShiftType:null,selectedAppointmentType:null,staffMembers:[],dayShifts:{},allAppointments:{},googleCalendarEvents:{},specificStaffId:null,managementLevel:null,isManagementLink:!1,lastAppointmentData:null,managementContactPerson:null}}get(e){return this.state[e]}set(e,t){const n=this.state[e];n!==t&&(this.state[e]=t,this.notify(e,t,n))}update(e){Object.entries(e).forEach(([e,t])=>{this.set(e,t)})}subscribe(e,t){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t),()=>{this.listeners.get(e)?.delete(t)}}notify(e,t,n){const o=this.listeners.get(e);o&&o.forEach(o=>{try{o(t,n)}catch(s){console.error(`Error in state listener for "${e}":`,s)}})}reset(e){const t={selectedDate:null,selectedStaff:null,selectedTime:null,selectedShiftType:null,selectedAppointmentType:null,lastAppointmentData:null};e.forEach(e=>{e in t&&this.set(e,t[e])})}resetSelection(){this.reset(["selectedDate","selectedStaff","selectedTime","selectedShiftType","selectedAppointmentType"])}getState(){return{...this.state}}};function o(e,t=!0){const n=document.getElementById(e);n&&(n.classList.remove("hidden"),requestAnimationFrame(()=>{n.style.display="block",n.offsetHeight,n.classList.add("visible"),t&&setTimeout(()=>{const e=n.getBoundingClientRect(),t=window.pageYOffset||document.documentElement.scrollTop,o=e.top+t-80;window.scrollTo({top:o,behavior:"smooth"})},100)}))}function s(e){const t=document.getElementById(e);t&&(t.classList.remove("visible"),t.classList.add("hidden"),setTimeout(()=>{t.style.display="none"},300))}"undefined"!=typeof window&&(window.appState=n);const i={open(e){const t=document.getElementById(e);t&&(t.style.display="flex",document.body.style.overflow="hidden")},close(e){const t=document.getElementById(e);t&&(t.style.display="none",document.body.style.overflow="")},toggle(e){const t=document.getElementById(e);t&&("flex"===t.style.display?this.close(e):this.open(e))}};function r(t,n="info"){const o=document.getElementById("alertContainer");if(!o)return;o.innerHTML="";const s=e("div",{className:`alert alert-${n}`});s.textContent=t,o.appendChild(s),o.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{a()},"error"===n?8e3:5e3)}function a(){const e=document.getElementById("alertContainer");e&&(e.innerHTML="")}function l(){const t=document.querySelector(".calendar-container");if(!t)return;c();const n=e("div",{id:"calendarLoadingOverlay",style:"\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(255, 255, 255, 0.8);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 10;\n      border-radius: 8px;\n    "}),o=e("div",{className:"spinner",style:"width: 28px; height: 28px; border-width: 3px;"});n.appendChild(o),t.style.position="relative",t.appendChild(n)}function c(){const e=document.getElementById("calendarLoadingOverlay");e&&e.remove()}const d={revealSection:o,hideSection:s,showAlert:r,hideAlert:a,showLoading:function(){const t=document.querySelector(".container");if(!t)return;t.innerHTML="";const n=e("div",{style:"text-align: center; padding: 60px 20px;"}),o=e("div",{className:"spinner",style:"margin: 0 auto 20px;"}),s=e("p",{style:"color: #757575; font-size: 14px; font-family: 'Montserrat', sans-serif;"});s.textContent="Y√ºkleniyor...",n.appendChild(o),n.appendChild(s),t.appendChild(n)},showCalendarLoading:l,hideCalendarLoading:c,showLoadingError:function(){const n=document.querySelector(".container");if(!n)return;n.innerHTML="";const o=e("div",{className:"error-page",style:"text-align: center; padding: 60px 20px;"}),s=e("img",{src:t,alt:"Rolex Logo",className:"rolex-logo",style:"width: 120px; margin: 0 auto 30px; display: block; opacity: 0.7;"}),i=e("div",{style:"font-size: 64px; margin-bottom: 20px;"});i.textContent="‚ö†Ô∏è";const r=e("h2",{style:"font-family: 'Playfair Display', serif; font-size: 24px; color: #1A1A2E; margin-bottom: 15px;"});r.textContent="Bir Hata Olu≈ütu";const a=e("p",{style:"font-family: 'Montserrat', sans-serif; font-size: 16px; color: #757575; margin-bottom: 30px; max-width: 400px; margin-left: auto; margin-right: auto; line-height: 1.6;"});a.textContent="Sayfa y√ºklenirken bir sorun olu≈ütu. L√ºtfen internet baƒülantƒ±nƒ±zƒ± kontrol edin ve tekrar deneyin.";const l=e("button",{className:"btn",style:"margin: 10px auto; display: block;"});l.textContent="üîÑ Tekrar Dene",l.onclick=()=>window.location.reload();const c=e("p",{style:"font-family: 'Montserrat', sans-serif; font-size: 14px; color: #999; margin-top: 40px;"});c.innerHTML="Sorun devam ederse l√ºtfen bizimle ileti≈üime ge√ßin:<br><strong>istinyeparkrolex35@gmail.com</strong>",o.appendChild(s),o.appendChild(i),o.appendChild(r),o.appendChild(a),o.appendChild(l),o.appendChild(c),n.appendChild(o)},scrollToElement:function(e,t=80){const n=document.getElementById(e);if(!n)return;const o=n.getBoundingClientRect(),s=window.pageYOffset||document.documentElement.scrollTop,i=o.top+s-t;window.scrollTo({top:i,behavior:"smooth"})},isInViewport:function(e){const t=document.getElementById(e);if(!t)return!1;const n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)},shakeElement:function(e){const t=document.getElementById(e);t&&(t.classList.add("shake"),setTimeout(()=>{t.classList.remove("shake")},500))},setButtonLoading:function(e,t,n){t?(e.disabled=!0,e.dataset.originalText=n||e.textContent||"",e.innerHTML='<span class="spinner" style="width: 16px; height: 16px; border-width: 2px;"></span> Y√ºkleniyor...'):(e.disabled=!1,e.textContent=e.dataset.originalText||n||"G√∂nder",delete e.dataset.originalText)},Modal:i};"undefined"!=typeof window&&(window.UIManager=d);const p=new class{constructor(e="randevu_cache_",t=18e5){this.prefix=e,this.defaultDuration=t}get(e){try{const t=this.prefix+e,n=sessionStorage.getItem(t);if(!n)return null;const o=JSON.parse(n);return Date.now()>o.expiresAt?(this.delete(e),null):o.value}catch(t){return console.error("Cache get error:",t),null}}set(e,t,n){try{const o=this.prefix+e,s=Date.now(),i={value:t,timestamp:s,expiresAt:s+(n||this.defaultDuration)};return sessionStorage.setItem(o,JSON.stringify(i)),!0}catch(o){if(o instanceof DOMException&&"QuotaExceededError"===o.name){this.clear();try{const o=this.prefix+e,s=Date.now(),i={value:t,timestamp:s,expiresAt:s+(n||this.defaultDuration)};return sessionStorage.setItem(o,JSON.stringify(i)),!0}catch(s){return console.error("Cache set retry failed:",s),!1}}return console.error("Cache set error:",o),!1}}has(e){return null!==this.get(e)}delete(e){try{const t=this.prefix+e;sessionStorage.removeItem(t)}catch(t){console.error("Cache delete error:",t)}}clear(){try{const e=[];for(let t=0;t<sessionStorage.length;t++){const n=sessionStorage.key(t);n&&n.startsWith(this.prefix)&&e.push(n)}e.forEach(e=>sessionStorage.removeItem(e))}catch(e){console.error("Cache clear error:",e)}}clearExpired(){try{const t=Date.now(),n=[];for(let o=0;o<sessionStorage.length;o++){const s=sessionStorage.key(o);if(s&&s.startsWith(this.prefix))try{const e=sessionStorage.getItem(s);if(!e)continue;t>JSON.parse(e).expiresAt&&n.push(s)}catch(e){n.push(s)}}n.forEach(e=>sessionStorage.removeItem(e))}catch(t){console.error("Cache clearExpired error:",t)}}keys(){try{const e=[];for(let t=0;t<sessionStorage.length;t++){const n=sessionStorage.key(t);n&&n.startsWith(this.prefix)&&e.push(n.substring(this.prefix.length))}return e}catch(e){return console.error("Cache keys error:",e),[]}}getSize(){try{let e=0;for(let t=0;t<sessionStorage.length;t++){const n=sessionStorage.key(t);if(!n||!n.startsWith(this.prefix))continue;const o=sessionStorage.getItem(n);o&&(e+=n.length+o.length)}return e}catch(e){return console.error("Cache getSize error:",e),0}}};"undefined"!=typeof window&&(window.cacheManager=p,window.monthCache=p),"undefined"!=typeof window&&window.addEventListener("load",()=>{p.clearExpired()});export{i as M,o as a,l as b,p as c,a as d,r as e,s as f,c as h,t as r,n as s};
