import"./modulepreload-polyfill-YP0FEG5d.js";import"./utils-D-0zHxs0.js";import"./security-DtJpU1t3.js";import{s as e,M as t,f as n,a}from"./base-layer-Bx4f0JUd.js";import{i,a as s,b as d,s as o,c as l,d as c,e as m}from"./flow-components-CHhHMPCd.js";import{h as p,i as r}from"./form-success-CC3bUtID.js";import{i as y,c as g}from"./api-D1FC_EqG.js";(async()=>{const e=await y();window.CONFIG=e})();const u=new Date,E=new Date(u.getFullYear(),u.getMonth()+1,0).getDate();u.getDate()===E?e.set("currentMonth",new Date(u.getFullYear(),u.getMonth()+1,1)):e.set("currentMonth",new Date),"undefined"!=typeof window&&(window.appState=e,Object.defineProperty(window,"lastAppointmentData",{get:()=>e.get("lastAppointmentData"),set:t=>e.set("lastAppointmentData",t)})),document.addEventListener("DOMContentLoaded",async()=>{if(i(),await g(),document.getElementById("calendarAppleBtn")?.addEventListener("click",p),document.getElementById("calendarGoogleBtn")?.addEventListener("click",p),document.getElementById("calendarOutlookBtn")?.addEventListener("click",p),document.getElementById("calendarICSBtn")?.addEventListener("click",p),document.getElementById("calendarModalCloseBtn")?.addEventListener("click",()=>t.close("calendarModal")),document.getElementById("guideCloseBtn")?.addEventListener("click",()=>t.close("guideModal")),!document.getElementById("appointmentTypesContainer"))return;const y=new URLSearchParams(window.location.search).get("staff");e.set("specificStaffId",y);const u=window.location.pathname,E=window.location.hash.replace("#/","").replace("#",""),f=u.replace("/randevu_app/","").replace(/^\//,""),B=E||f;if("hk"===B?(e.set("managementLevel",1),e.set("isManagementLink",!0)):"ok"===B?(e.set("managementLevel",2),e.set("isManagementLink",!0)):"hmk"===B&&(e.set("managementLevel",3),e.set("isManagementLink",!0)),e.get("isManagementLink")){const e=document.getElementById("staffHeader");e&&(e.textContent="Randevu Sistemi",e.style.visibility="visible");const t=document.getElementById("typeShipping"),a=document.getElementById("typeManagement");t&&(t.style.display="none"),a&&(a.style.display="none"),n("staffSection")}const I=e.get("specificStaffId");if("0"===I){const e=document.getElementById("staffHeader");e&&(e.textContent="Randevu Sistemi",e.style.visibility="visible");const t=document.getElementById("typeShipping"),n=document.getElementById("typeManagement");t&&(t.style.display="block"),n&&(n.style.display="block");const a=document.getElementById("appointmentTypesContainer");a&&(a.style.gridTemplateColumns="repeat(2, 1fr)")}else if(!I){const e=document.getElementById("appointmentTypesContainer");e&&(e.style.justifyContent="center")}const v=document.getElementById("appointmentTypesContainer");if(await s(),r(),I){if(await d(),"0"!==I){const t=e.get("staffMembers").find(e=>e.id==I);if(t){const n=document.getElementById("staffHeader");n&&(n.textContent=t.name,n.style.visibility="visible"),e.set("selectedStaff",parseInt(I))}}}else await d();const L=document.getElementById("mainLoadingSpinner");L&&(L.style.display="none");const k=document.getElementById("submitBtn"),w=document.getElementById("turnstileContainer");k&&(k.style.display="none"),w&&(w.style.display="none"),v&&(v.style.display="grid"),a("appointmentTypesSection",!1);const h=document.getElementById("appointmentTypesContainer")?.parentElement;h&&h.classList.contains("section")&&setTimeout(()=>{h.classList.add("visible")},100),document.getElementById("typeDelivery")?.addEventListener("click",()=>{o("delivery")}),document.getElementById("typeService")?.addEventListener("click",()=>{o("service")}),document.getElementById("typeMeeting")?.addEventListener("click",()=>{o("meeting")}),document.getElementById("typeShipping")?.addEventListener("click",()=>{o("shipping")}),document.getElementById("typeManagement")?.addEventListener("click",()=>{o("management")}),document.getElementById("selectHK")?.addEventListener("click",e=>{e.stopPropagation(),l("HK","Haluk Külahçıoğlu")}),document.getElementById("selectOK")?.addEventListener("click",e=>{e.stopPropagation(),l("OK","Onur Külahçıoğlu")});const M=c(m,300);document.getElementById("prevMonthBtn")?.addEventListener("click",()=>M(-1)),document.getElementById("nextMonthBtn")?.addEventListener("click",()=>M(1))});
